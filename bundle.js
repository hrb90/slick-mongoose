!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";function r(e){return Object.keys(e).map(function(t){return e[t]})}function i(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function o(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function a(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function c(e,t){return e.filter(function(e){return t.indexOf(e)>=0})}function s(e,t){var n=Object.keys(e),r={};return n.forEach(function(n){r[n]=t(e[n])}),r}function d(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.values=r,t.difference=i,t.find=o,t.findIndex=a,t.intersection=c,t.mapValues=s,t.cloneDeep=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eq=function(e,t){var n=function(e,t){return Math.abs(e-t)<.1};return n(e.x,t.x)&&n(e.y,t.y)},t.xProd=function(e,t){return e.x*t.y-e.y*t.x};var r=function(e,t){return e.x*t.x+e.y*t.y},i=function(e,t){return{x:e*t.x,y:e*t.y}},o=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},a=function(e,t){return o(e,i(-1,t))};t.angle=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},t.getConsecutiveCoordPairs=function(e,t,n){return[e,n[(t+1)%n.length]]},t.intersect=function(e,n,i,o,c){void 0===c&&(c=!1);var s=a(n,e),d=a(o,i),u=a(i,e),l=t.xProd(s,d);if(0!==l){var h=t.xProd(u,s)/l,g=t.xProd(u,d)/l,f=function(e){return 0<e&&e<1},p=function(e){return 0===e||1===e};return!(!f(h)||!f(g))||!(!p(h)&&!p(g))&&((f(h)||f(g))&&(!c||0===h||0===g))}if(0!==t.xProd(u,s))return!1;var v=r(u,s)/r(s,s),y=v+r(d,s)/r(s,s);return Math.max(v,y)>0&&Math.min(v,y)<1},t.inInterior=function(e,n){if(e.length<3||e.some(function(e){return t.eq(e,n)}))return!1;for(var r=Math.max.apply(Math,e.map(function(e){return e.x})),i=Math.max.apply(Math,e.map(function(e){return e.y})),o={x:r+1,y:i+1};e.some(function(e){return t.collinear3([e,n,o])});)o.x=o.x+1;var a=0;return e.map(t.getConsecutiveCoordPairs).forEach(function(e){t.intersect(n,o,e[0],e[1],!0)&&(a+=1)}),a%2==1},t.signedArea=function(e){var n=0;return e.map(t.getConsecutiveCoordPairs).forEach(function(e){n+=(e[1].x-e[0].x)*(e[1].y+e[0].y)}),n},t.isClockwise=function(e){return t.signedArea(e)>0},t.collinear3=function(e){return 0===t.signedArea(e)};var c=function(e,t){return e.y-t.y!=0?e.y-t.y:e.x-t.x};t.convexHull=function(e){var n=[],r=e.slice(0),i=r.sort(c)[0];n.unshift(i);var o=r.slice(1);return o.sort(function(e,n){return t.isClockwise([i,e,n])?-1:1}),o.forEach(function(e){for(;n.length>1&&!t.isClockwise([n[1],n[0],e]);)n.shift();n.unshift(e)}),n};var s=function(e,t){var n=a(t,e);return r(n,n)};t.distance=function(e,t){return Math.sqrt(s(e,t))},t.unitVector=function(e,n){var r=t.distance(e,n);return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},t.pointSegmentDistance=function(e,n,c){if(t.eq(n,c))return t.distance(e,n);var d=s(c,n),u=r(a(e,n),a(c,n))/d;return u=Math.max(0,Math.min(1,u)),t.distance(e,o(n,i(u,a(c,n))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=n(0);!function(e){e[e.Red=0]="Red",e[e.Orange=1]="Orange",e[e.Yellow=2]="Yellow",e[e.Green=3]="Green",e[e.Blue=4]="Blue"}(r=t.Color||(t.Color={})),t.ALL_COLORS=[r.Red,r.Blue,r.Yellow,r.Green,r.Orange];var a=0,c=function(){return(a+=1)+""},s=function(e){return e.x+","+e.y},d=function(e,t){return s(e)+";"+s(t)};t.createEmptyPlanarGraph=function(){return{infiniteFace:"infinite",vertices:{},edges:{},faces:{infinite:{infinite:!0}}}},t.addEdge=function(e,n,r){var i=t.getVertexKey(e,n),a=t.getVertexKey(e,r);if(i||a)return!i&&a?h(e,a,n):!a&&i?h(e,i,r):l(e,i,a);if(o.values(e.vertices).length>0)throw"KeepGraphConnected";return u(n,r)},t.getEndpoints=function(e,t){return[e.edges[t].origin,e.edges[e.edges[t].twin].origin]},t.removeEdge=function(e,n){var r=o.cloneDeep(e),i=r.edges[n].twin,a=r.edges[n].incidentFace,c=r.edges[i].incidentFace;if(a!==c){(r.faces[a].infinite||r.faces[c].infinite)&&(r.faces[a].infinite=!0,r.infiniteFace=a);var s=t.getBoundaryEdgeKeys(r,c);return r=y(r,n),r=y(r,i),delete r.faces[c],s.forEach(function(e){return r.edges[e].incidentFace=a}),delete r.edges[n],delete r.edges[i],r}throw new Error("Please keep the graph connected")},t.removeEdgeByVertices=function(e,n,r){var i=t.getVertexKey(e,n),a=t.getVertexKey(e,r),c=o.find(t.getOutgoingEdgeKeys(e,i),function(t){return e.edges[e.edges[t].twin].origin===a});if(c)return t.removeEdge(e,c);throw new Error("Can't connect already connected vertices")},t.removeVertex=function(e,n){var r=o.cloneDeep(e);return t.getOutgoingEdgeKeys(r,n).forEach(function(e){try{r=t.removeEdge(r,e)}catch(e){r=m(r,n)}}),r},t.removeVertexByCoord=function(e,n){return t.removeVertex(e,t.getVertexKey(e,n))},t.findVp=function(e){if(e.mark1&&e.mark2){var n=t.getBoundaryVertexKeys(e,e.infiniteFace),r=n.length,i=n.indexOf(e.mark1);if(i>-1)return n[(i+r-1)%r]!==e.mark2?n[(i+r-1)%r]:n[(i+1)%r];throw new Error("Marked vertices not on boundary")}throw new Error("Graph is unmarked")},t.getEdgeKeyByCoords=function(e,n,r){var i=t.getVertexKey(e,n),o=t.getVertexKey(e,r),a=t.getOutgoingEdgeKeys(e,i),c=t.getAdjacentVertices(e,i),s=c.indexOf(o);return s>=0?a[s]:null},t.getAdjacentVertices=function(e,n){return t.getOutgoingEdgeKeys(e,n).map(function(t){return e.edges[e.edges[t].next].origin})},t.getBoundaryEdgeKeys=function(e,t){var n=e.faces[t],r=[];if(n.incidentEdge)for(var i=n.incidentEdge;!r.includes(i);)r.push(i),i=e.edges[i].next;return r},t.getBoundaryVertexKeys=function(e,n){return t.getBoundaryEdgeKeys(e,n).map(function(t){return e.edges[t].origin})},t.getBoundaryVertices=function(e,n){return t.getBoundaryVertexKeys(e,n).map(function(t){return e.vertices[t]})},t.getSplitFaceKey=function(e,n,r){var a={x:(n.x+r.x)/2,y:(n.y+r.y)/2},c=g(e,a);if(o.intersection(f(e,n),f(e,r)).includes(c)){var s=function(t){var o=e.vertices[e.edges[t].origin],a=e.vertices[e.edges[e.edges[t].next].origin];return!i.intersect(n,r,o,a)};return t.getBoundaryEdgeKeys(e,c).every(s)?c:null}return null},t.getOutgoingEdgeKeys=function(e,t){var n=[];if(e.vertices[t].incidentEdge)for(var r=e.vertices[t].incidentEdge;!n.includes(r);)n.push(r),r=e.edges[e.edges[r].twin].next;return n},t.getColors=function(e,t){return e.vertices[t].colors},t.safeAddEdge=function(e,n,r){try{return t.addEdge(e,n,r),!0}catch(e){return!1}},t.setColors=function(e,t,n){var r=o.cloneDeep(e);return r.vertices[t].colors=n,r};var u=function(e,n){var r=s(e),i=s(n),o=d(e,n),a=d(n,e),c={x:e.x,y:e.y,incidentEdge:o,colors:t.ALL_COLORS},u={x:n.x,y:n.y,incidentEdge:a,colors:t.ALL_COLORS},l={twin:a,next:a,prev:a,origin:r,incidentFace:"infinite"},h={twin:o,next:o,prev:o,origin:i,incidentFace:"infinite"};return{infiniteFace:"infinite",vertices:(g={},g[r]=c,g[i]=u,g),edges:(f={},f[o]=l,f[a]=h,f),faces:{infinite:{infinite:!0,incidentEdge:o}}};var g,f},l=function(e,n,r){var a=o.cloneDeep(e);if(t.getAdjacentVertices(a,n).includes(r))throw new Error("Can't connect already connected vertices");var s=a.vertices[n],u=a.vertices[r],l=t.getSplitFaceKey(a,s,u);if(l){var h=p(a,n,i.angle(s,u)),g=a.edges[h],f=p(a,r,i.angle(u,s)),y=a.edges[f],m=d(s,u),E=d(u,s),x={origin:n,next:f,prev:g.prev,twin:E,incidentFace:l},b={origin:r,next:h,prev:y.prev,twin:m,incidentFace:l};a.edges[g.prev].next=m,g.prev=E,a.edges[y.prev].next=E,y.prev=m,a.edges[m]=x,a.edges[E]=b;var C=a.faces[l].infinite?v(a,m):m;a.faces[l].incidentEdge=a.edges[C].twin;var w=c(),k={infinite:!1,incidentEdge:C};a.edges[a.edges[C].twin].incidentFace=l,a.edges[C].incidentFace=w;for(var A=a.edges[C].next;A!==C;)a.edges[A].incidentFace=w,A=a.edges[A].next;return a.faces[w]=k,a}throw new Error("Can't connect those vertices")},h=function(e,n,r){var a=t.getSplitFaceKey(e,e.vertices[n],r);if(a){var c=o.cloneDeep(e),u=s(r),l=c.vertices[n],h=p(c,n,i.angle(l,r)),g=c.edges[h],f=g.prev,v=c.edges[f],y=d(l,r),m=d(r,l),E={origin:n,prev:f,twin:m,next:m,incidentFace:a},x={origin:u,prev:y,next:h,twin:y,incidentFace:a};return v.next=y,g.prev=m,c.vertices[u]={x:r.x,y:r.y,colors:t.ALL_COLORS,incidentEdge:m},c.edges[y]=E,c.edges[m]=x,c}throw new Error("Can't connect those vertices")},g=function(e,n){var r=e.infiniteFace;return Object.keys(e.faces).forEach(function(o){e.infiniteFace!==o&&i.inInterior(t.getBoundaryVertices(e,o),n)&&(r=o)}),r},f=function(e,n){var r=t.getVertexKey(e,n);if(r){return t.getOutgoingEdgeKeys(e,r).map(function(t){return e.edges[t].incidentFace})}return[g(e,n)]},p=function(e,n,r){var o=t.getOutgoingEdgeKeys(e,n).map(function(t){var n=e.vertices[e.edges[t].origin],r=e.vertices[e.edges[e.edges[t].next].origin];return[t,i.angle(n,r)]}),a=o.filter(function(e){return e[1]<r}),c=function(e,t){return t[1]-e[1]},s=function(e){return e.sort(c)[0][0]};return s(a.length>0?a:o)};t.getVertexKey=function(e,t){var n=null;for(var r in e.vertices)i.eq(e.vertices[r],t)&&(n=r);return n};var v=function(e,t){for(var n=e.edges[t],r=e.edges[n.twin],o=[e.vertices[r.origin]],a=e.edges[r.next];a!==r;)o.push(e.vertices[a.origin]),a=e.edges[a.next];return i.isClockwise(o)?t:n.twin},y=function(e,t){var n=o.cloneDeep(e),r=n.edges[t].prev,i=n.edges[n.edges[t].twin].next,a=n.edges[t].incidentFace;return n.edges[r].next=i,n.edges[i].prev=r,n.faces[a].incidentEdge=r,n.vertices[n.edges[t].origin].incidentEdge=i,n},m=function(e,n){var r=o.cloneDeep(e);if(1===t.getOutgoingEdgeKeys(r,n).length){var i=r.vertices[n].incidentEdge,a=r.edges[i].twin;return r=y(e,a),delete r.vertices[n],delete r.edges[i],delete r.edges[a],r}throw new Error("Not a leaf vertex!")},E=function(e,t){var n=e.edges[t].twin;return e.edges[t].incidentFace===e.edges[n].incidentFace};t.inducedInteriorSubgraph=function(e,n){for(var r=function(t){return!(n.includes(t)||i.inInterior(n.map(function(t){return e.vertices[t]}),e.vertices[t]))},a=function(n){return t.getEndpoints(e,n).some(r)},c=function(e){return Object.keys(e.vertices).filter(r).filter(function(n){return 1===t.getOutgoingEdgeKeys(e,n).length})},s=function(e){return Object.keys(e.edges).filter(a).filter(function(t){return!E(e,t)})},d=o.cloneDeep(e),u=s(d);u.length>0;)d=t.removeEdge(d,u[0]),u=s(d);for(var l=c(d);l.length>0;)d=t.removeVertex(d,l[0]),l=c(d);return d},t.findChordKey=function(e){var n=null,r=t.getBoundaryVertexKeys(e,e.infiniteFace);return r.forEach(function(i){t.getOutgoingEdgeKeys(e,i).forEach(function(t){var i=e.edges[t];r.includes(e.edges[i.next].origin)&&i.incidentFace!==e.infiniteFace&&e.edges[i.twin].incidentFace!==e.infiniteFace&&(n=t)})}),n},t.splitChordedGraph=function(e,n){var r=t.getEndpoints(e,n),i=r[0],o=r[1],a=t.getBoundaryVertexKeys(e,e.infiniteFace),c=[i,o].map(function(e){return a.indexOf(e)}),s=c[0],d=c[1],u=s<d?[s,d]:[d,s],l=u[0],h=u[1],g=a.slice(l,h+1),f=a.slice(0,l+1).concat(a.slice(h)),p=g.includes(e.mark1)&&g.includes(e.mark2)?[g,f]:[f,g],v=p[0],y=p[1],m=[v,y].map(function(n){return t.inducedInteriorSubgraph(e,n)}),E=m[0],x=m[1];return x.mark1=i,x.mark2=o,[E,x]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(7);!function(e){e[e.AddEdge=0]="AddEdge",e[e.Begin=1]="Begin",e[e.End=2]="End",e[e.UpdateColors=3]="UpdateColors",e[e.RestrictGraph=4]="RestrictGraph",e[e.HighlightEdge=5]="HighlightEdge",e[e.UnhighlightEdge=6]="UnhighlightEdge",e[e.Pause=7]="Pause",e[e.Describe=8]="Describe",e[e.DescribeAddEdges=9]="DescribeAddEdges",e[e.DescribeChordlessOne=10]="DescribeChordlessOne",e[e.DescribeChordlessTwo=11]="DescribeChordlessTwo",e[e.DescribeChordlessThree=12]="DescribeChordlessThree",e[e.DescribeChordlessFour=13]="DescribeChordlessFour",e[e.DescribeChorded=14]="DescribeChorded",e[e.DescribePreColor=15]="DescribePreColor",e[e.DescribeTriangle=16]="DescribeTriangle"}(r=t.AnimationType||(t.AnimationType={}));var a=function(e){document.getElementById("description").textContent=e},c=function(e){var t=document.createElement("strong");t.id="continueButton",t.innerText="Press spacebar to continue",o.bind("space",function(){o.unbind("space"),e()}),document.getElementById("sidebar").appendChild(t)},s=function(e){document.getElementById(e).remove()},d=[];t.addStep=function(e,t,n){d.push({type:e,pause:t,data:n,addButton:!1})},t.resetAnimation=function(){d=[]},t.postProcessAnimation=function(){[r.DescribeAddEdges,r.DescribeChorded,r.DescribeTriangle,r.DescribeChordlessOne,r.DescribeChordlessTwo,r.DescribeChordlessThree,r.DescribeChordlessFour,r.DescribePreColor].forEach(function(e){var t=i.findIndex(d,function(t){return t.type===e});t>=0&&(d[t].addButton=!0)})},t.drawStep=function(e,t){switch(e.type){case r.AddEdge:t.drawEdge(e.data[0],e.data[1],"blue");break;case r.Begin:t.freeze();break;case r.End:t.unfreeze();break;case r.UpdateColors:t.updateColors(e.data.vertex,e.data.colors);break;case r.RestrictGraph:t.highlightGraph(e.data.graph),t.redraw();break;case r.HighlightEdge:t.highlightEdge(e.data[0],e.data[1]),t.redraw();break;case r.UnhighlightEdge:t.unhighlightEdge(),t.redraw();case r.Describe:case r.DescribeAddEdges:case r.DescribeChorded:case r.DescribeTriangle:case r.DescribeChordlessOne:case r.DescribeChordlessTwo:case r.DescribeChordlessThree:case r.DescribeChordlessFour:case r.DescribePreColor:a(e.data);break;case r.Pause:}},t.animate=function(e){if(d.length>0){var n=d.shift();t.drawStep(n,e),n.addButton?(e.darken(),c(function(){e.lighten(),t.animate(e),s("continueButton")})):setTimeout(function(){return t.animate(e)},n.pause)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(6),o=n(3);document.addEventListener("DOMContentLoaded",function(){var e=new r.GraphDrawingWrapper("canvas",10);document.getElementById("animate-button").addEventListener("click",function(){e.frozen||(e.unhighlightVertex(),i.fiveColor(e.graph),o.animate(e))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(0),a=function(e,t){switch(e){case i.Color.Red:return t?"#ff8080":"red";case i.Color.Blue:return t?"#8080ff":"blue";case i.Color.Green:return t?"#80ff80":"green";case i.Color.Orange:return t?"#ffe080":"orange";case i.Color.Yellow:return t?"#ffff80":"yellow"}},c=function(){function e(e,t){void 0===t&&(t=15),this.radius=t,this.vertices=[],this.canvasEl=document.getElementById(e),this.drawCircle=this.drawCircle.bind(this),this.handleClick=this.handleClick.bind(this),this.canvasEl.addEventListener("click",this.handleClick),this.graph=i.createEmptyPlanarGraph(),this.highlightedGraph=this.graph,this.highlightedVertex=null,this.highlightedEdge=null,this.frozen=!1}return e.prototype.clear=function(){this.canvasEl.getContext("2d").clearRect(0,0,this.canvasEl.width,this.canvasEl.height)},e.prototype.darken=function(){this.canvasEl.className="greyer-canvas"},e.prototype.clickVertex=function(e){if(this.highlightedVertex){e!==this.highlightedVertex&&this.drawEdge(e,this.highlightedVertex);var t=this.highlightedVertex;this.unhighlightVertex(),this.drawCircle(t)}else this.highlightVertex(e);this.drawCircle(e)},e.prototype.doesAddEdge=function(e,t){try{return this.graph=i.addEdge(this.graph,e,t),this.highlightedGraph=this.graph,!0}catch(e){return"KeepGraphConnected"===e&&alert("Please keep the graph connected"),!1}},e.prototype.drawCircle=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=i.ALL_COLORS),this.vertices.push(e);var o=this.canvasEl.getContext("2d");o.strokeStyle=t?"lightgrey":"black",o.lineWidth=2,this.highlightedVertex&&r.eq(e,this.highlightedVertex)&&(o.strokeStyle="red"),o.fillStyle="none",o.beginPath(),o.arc(e.x,e.y,this.radius,0,2*Math.PI),o.stroke(),n.length>0&&this.fillCircle(e,t,n)},e.prototype.drawEdge=function(e,t,n){void 0===n&&(n="black"),this.doesAddEdge(e,t)&&this.unsafeDrawEdge(e,t,n)},e.prototype.fillCircle=function(e,t,n){var r=this,i=n.length;n.forEach(function(n,o){var c=r.canvasEl.getContext("2d");c.fillStyle=a(n,t),c.beginPath(),c.arc(e.x,e.y,r.radius,2*o*Math.PI/i,2*(o+1)*Math.PI/i),c.lineTo(e.x,e.y),c.closePath(),c.fill()})},e.prototype.freeze=function(){this.frozen=!0},e.prototype.handleClick=function(e){var t=this;if(!this.frozen)try{var n,i,o=this.translateEventToCoord(e);this.vertices.forEach(function(e){var a=r.distance(e,o);a<=t.radius&&(n=e),a<=2*t.radius&&(i=e)}),n?this.clickVertex(n):i||this.drawCircle(o)}catch(e){alert(e.message)}},e.prototype.highlightEdge=function(e,t){this.highlightedEdge=[e,t]},e.prototype.highlightGraph=function(e){this.highlightedGraph=e},e.prototype.highlightVertex=function(e){this.highlightedVertex?this.unhighlightVertex():this.highlightedVertex=e},e.prototype.isHighlightedEdge=function(e,t){if(null===this.highlightedEdge)return!1;var n=this.highlightedEdge[0],i=this.highlightedEdge[1];return r.eq(n,e)&&r.eq(i,t)||r.eq(n,t)&&r.eq(i,e)},e.prototype.lighten=function(){this.canvasEl.className=""},e.prototype.redraw=function(){var e=this;this.clear();var t=Object.keys(this.highlightedGraph.vertices),n=o.difference(Object.keys(this.graph.vertices),t),r=this.graph;t.forEach(function(t){var n=r.vertices[t];e.drawCircle(n,!1,n.colors)}),n.forEach(function(t){var n=r.vertices[t];e.drawCircle(n,!0,n.colors)}),Object.keys(r.edges).forEach(function(n){var o,a=i.getEndpoints(r,n),c=a[0],s=a[1];o=t.includes(c)&&t.includes(s)?"black":"lightgrey",e.isHighlightedEdge(r.vertices[c],r.vertices[s])&&(o="red"),e.unsafeDrawEdge(r.vertices[c],r.vertices[s],o)}),this.graph=r},e.prototype.translateEventToCoord=function(e){return{x:e.x-this.canvasEl.offsetLeft,y:e.y-this.canvasEl.offsetTop,colors:[]}},e.prototype.unfreeze=function(){this.frozen=!1},e.prototype.unhighlightEdge=function(){this.highlightedEdge=null},e.prototype.unhighlightVertex=function(){this.highlightedVertex=null},e.prototype.unsafeDrawEdge=function(e,t,n){var i=this.canvasEl.getContext("2d"),o=r.unitVector(e,t);i.strokeStyle=n,i.lineWidth=1,i.beginPath(),i.moveTo(e.x-this.radius*o.x,e.y-this.radius*o.y),i.lineTo(t.x+this.radius*o.x,t.y+this.radius*o.y),i.stroke()},e.prototype.updateColors=function(e,t){var n=i.getVertexKey(this.graph,e);this.graph=i.setColors(this.graph,n,t),this.redraw()},e}();t.GraphDrawingWrapper=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(3),a=n(8),c=n(0),s=function(e,t,n){var i=e.filter(function(e){return!(r.eq(e,t)||r.eq(e,n))});return Math.min.apply(Math,i.map(function(e){return r.pointSegmentDistance(e,t,n)}))},d=function(e,t){return o.addStep(o.AnimationType.AddEdge,0,t),i.addEdge(e,t[0],t[1])},u=function(e){return r.convexHull(c.values(e.vertices)).map(r.getConsecutiveCoordPairs).forEach(function(t){i.safeAddEdge(e,t[0],t[1])&&(e=d(e,t))}),e},l=function(e,t,n){for(var r=-1,o=[],a=t.map(function(t){return[e.edges[t].origin,e.edges[e.edges[e.edges[t].next].next].origin]}),c=t.map(function(t){return e.vertices[e.edges[t].origin]}),d=0;d<a.length;d++){var u=e.vertices[a[d][0]],l=e.vertices[a[d][1]];if(i.getSplitFaceKey(e,u,l)===n){var h=s(c,u,l);h>r&&(r=h,o=[u,l])}}return o},h=function(e,t){var n=i.getBoundaryEdgeKeys(e,t);if(n.length>3&&e.infiniteFace!==t){var r=l(e,n,t);e=d(e,r)}return e},g=function(e){return Object.keys(e.faces).every(function(t){return e.infiniteFace===t||3===i.getBoundaryEdgeKeys(e,t).length})},f=function(e){for(;!g(e);)for(var t in e.faces)i.getBoundaryEdgeKeys(e,t).length>3&&(e=h(e,t));return o.addStep(o.AnimationType.DescribeAddEdges,0,a.EXPLANATIONS.addEdges),e},p=function(e){var t=i.getBoundaryVertexKeys(e,e.infiniteFace);return e.mark1=t[0],e.mark2=t[1],o.addStep(o.AnimationType.Describe,2e3,a.EXPLANATIONS.fiveChoices),Object.keys(e.vertices).forEach(function(t){e=v(e,t,i.ALL_COLORS,0)}),o.addStep(o.AnimationType.Describe,2e3,a.EXPLANATIONS.restrictOuter),t.forEach(function(t){return e=v(e,t,i.ALL_COLORS.slice(0,3),0)}),o.addStep(o.AnimationType.Pause,1e3,{}),e=v(e,e.mark1,[i.Color.Red],0),e=v(e,e.mark2,[i.Color.Blue],0),o.addStep(o.AnimationType.DescribePreColor,2e3,a.EXPLANATIONS.endPreColor),e},v=function(e,t,n,r){return o.addStep(o.AnimationType.UpdateColors,r,{vertex:e.vertices[t],colors:n}),i.setColors(e,t,n)},y=function(e){var t=[i.getColors(e,e.mark1)[0],i.getColors(e,e.mark2)[0]],n=c.difference(Object.keys(e.vertices),[e.mark1,e.mark2])[0],r=c.difference(i.getColors(e,n),t)[0];o.addStep(o.AnimationType.DescribeTriangle,800,a.EXPLANATIONS.baseCase);var s=v(e,n,[r],100);return o.addStep(o.AnimationType.Pause,300,{}),s},m=function(e,t){var n=c.cloneDeep(e);return Object.keys(t.vertices).forEach(function(e){n=i.setColors(n,e,i.getColors(t,e))}),n},E=function(e){var t=i.getBoundaryVertexKeys(e,e.infiniteFace),n=i.findVp(e),r=c.difference(i.getColors(e,n),i.getColors(e,e.mark1)).slice(0,2);o.addStep(o.AnimationType.DescribeChordlessOne,800,a.EXPLANATIONS.chordlessPartOne);var s,d=v(e,n,r,800),u=i.removeVertex(d,n);o.addStep(o.AnimationType.DescribeChordlessTwo,800,a.EXPLANATIONS.chordlessPartTwo),i.getAdjacentVertices(e,n).forEach(function(n){t.includes(n)?n!==e.mark1&&(s=n):u=v(u,n,c.difference(i.getColors(u,n),r).slice(0,3),300)}),o.addStep(o.AnimationType.DescribeChordlessThree,800,a.EXPLANATIONS.chordlessPartThree),u=b(u);var l=m(d,u);return o.addStep(o.AnimationType.RestrictGraph,0,{graph:l}),o.addStep(o.AnimationType.DescribeChordlessFour,800,a.EXPLANATIONS.chordlessPartFour),l=v(l,n,c.difference(r,i.getColors(l,s)).slice(0,1),800),o.addStep(o.AnimationType.Pause,300,{}),l},x=function(e,t){o.addStep(o.AnimationType.HighlightEdge,800,i.getEndpoints(e,t).map(function(t){return e.vertices[t]})),o.addStep(o.AnimationType.DescribeChorded,800,a.EXPLANATIONS.chorded),o.addStep(o.AnimationType.UnhighlightEdge,0,null);var n=i.splitChordedGraph(e,t),r=n[0],c=n[1];r=b(r),c=v(c,c.mark1,i.getColors(r,c.mark1),800),c=v(c,c.mark2,i.getColors(r,c.mark2),800),o.addStep(o.AnimationType.HighlightEdge,800,i.getEndpoints(e,t).map(function(t){return e.vertices[t]})),o.addStep(o.AnimationType.UnhighlightEdge,0,null),c=b(c);var s=m(e,r);return s=m(s,c),o.addStep(o.AnimationType.Pause,300,{}),s},b=function(e){if(o.addStep(o.AnimationType.RestrictGraph,0,{graph:e}),o.addStep(o.AnimationType.Pause,300,{}),3==c.values(e.vertices).length)return y(e);var t=i.findChordKey(e);return t?x(e,t):E(e)};t.fiveColor=function(e){o.resetAnimation(),o.addStep(o.AnimationType.Begin,0,{});var t=b(p(f(u(e))));return o.addStep(o.AnimationType.RestrictGraph,0,{graph:t}),o.addStep(o.AnimationType.Describe,0,a.EXPLANATIONS.finished),o.addStep(o.AnimationType.End,0,{}),o.postProcessAnimation(),t}},function(e,t,n){var r;!function(i,o,a){function c(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return b[e.which]?b[e.which]:C[e.which]?C[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e,t){return e.sort().join(",")===t.sort().join(",")}function u(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function h(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function g(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(){if(!x){x={};for(var e in b)e>95&&e<112||b.hasOwnProperty(e)&&(x[b[e]]=e)}return x}function p(e,t,n){return n||(n=f()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function y(e,t){var n,r,i,o=[];for(n=v(e),i=0;i<n.length;++i)r=n[i],k[r]&&(r=k[r]),t&&"keypress"!=t&&w[r]&&(r=w[r],o.push("shift")),g(r)&&o.push(r);return t=p(r,o,t),{key:r,modifiers:o,action:t}}function m(e,t){return null!==e&&e!==o&&(e===t||m(e.parentNode,t))}function E(e){function t(e){e=e||{};var t,n=!1;for(t in x)e[t]?n=!0:x[t]=0;n||(w=!1)}function n(e,t,n,r,i,o){var a,c,s=[],u=n.type;if(!v._callbacks[e])return[];for("keyup"==u&&g(e)&&(t=[e]),a=0;a<v._callbacks[e].length;++a)if(c=v._callbacks[e][a],(r||!c.seq||x[c.seq]==c.level)&&u==c.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||d(t,c.modifiers))){var l=!r&&c.combo==i,h=r&&c.seq==r&&c.level==o;(l||h)&&v._callbacks[e].splice(a,1),s.push(c)}return s}function r(e,t,n,r){v.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&(l(t),h(t))}function i(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&b===t?void(b=!1):void v.handleKey(t,u(e),e)}function a(){clearTimeout(m),m=setTimeout(t,1e3)}function f(e,n,i,o){function c(n){r(i,n,e),"keyup"!==o&&(b=s(n)),setTimeout(t,10)}x[e]=0;for(var d=0;d<n.length;++d){var u=d+1===n.length,l=u?c:function(t){return function(){w=t,++x[e],a()}}(o||y(n[d+1]).action);p(n[d],l,o,e,d)}}function p(e,t,r,i,o){v._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var a,c=e.split(" ");if(c.length>1)return void f(e,c,t,r);a=y(e,r),v._callbacks[a.key]=v._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},i,e,o),v._callbacks[a.key][i?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e})}var v=this;if(e=e||o,!(v instanceof E))return new E(e);v.target=e,v._callbacks={},v._directMap={};var m,x={},b=!1,C=!1,w=!1;v._handleKey=function(e,i,o){var a,c=n(e,i,o),s={},d=0,u=!1;for(a=0;a<c.length;++a)c[a].seq&&(d=Math.max(d,c[a].level));for(a=0;a<c.length;++a)if(c[a].seq){if(c[a].level!=d)continue;u=!0,s[c[a].seq]=1,r(c[a].callback,o,c[a].combo,c[a].seq)}else u||r(c[a].callback,o,c[a].combo);var l="keypress"==o.type&&C;o.type!=w||g(e)||l||t(s),C=u&&"keydown"==o.type},v._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)p(e[r],t,n)},c(e,"keypress",i),c(e,"keydown",i),c(e,"keyup",i)}if(i){for(var x,b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A=1;A<20;++A)b[111+A]="f"+A;for(A=0;A<=9;++A)b[A+96]=A.toString();E.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},E.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},E.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},E.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},E.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!m(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},E.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},E.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(b[t]=e[t]);x=null},E.init=function(){var e=E(o);for(var t in e)"_"!==t.charAt(0)&&(E[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},E.init(),i.Mousetrap=E,void 0!==e&&e.exports&&(e.exports=E),void 0!==(r=function(){return E}.call(t,n,t,e))&&(e.exports=r)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={addEdges:"Add edges so that the graph is triangulated and 2-connected (i.e.\n  can't be disconnected by removing one edge or vertex). Adding edges only makes\n  our problem harder; a coloring of the new graph will work as a coloring of the\n  original graph.",fiveChoices:"Begin with vertices having five possible colors",restrictOuter:"Restrict outer vertices to three possible colors",endPreColor:"Color two adjacent outer vertices red and blue. Note that the\n  interior vertices have five possible colors, two outer vertices are colored,\n  and the rest of the outer vertices have three possible colors.\n  This will be an invariant throughout the recursive algorithm.",baseCase:"The triangle is the base case of our algorithm. As promised by our\n  invariant, it has two colored vertices and one vertex with three choices.\n  So we can always color the third vertex.",chordlessPartOne:"There is no chord... Find a vertex on the outside of the\n  graph that is a neighbor of a colored vertex and restrict it to two colors,\n  not including the color of the colored vertex.",chordlessPartTwo:"Ensure that the neighbors of the vertex in the interior of\n  the graph can't be colored with those two colors. Only one of this vertex's\n  neighbors can be colored with even one of the two colors, so we will be able\n  to come back and properly color this vertex.",chordlessPartThree:"Recursively color the graph with the vertex removed",chordlessPartFour:"Color the vertex we removed",chorded:"There is a chord; split the graph and recursively color the subgraphs",finished:"We're done!"};t.EXPLANATIONS=r.mapValues(i,function(e){return e.replace("\n","")})}]);